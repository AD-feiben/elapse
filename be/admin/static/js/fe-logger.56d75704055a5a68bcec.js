webpackJsonp([9],{EQN6:function(e,t){},Gzlo:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n=a("lC5x"),s=a.n(n),o=a("J0Oq"),i=a.n(o),c=a("Yarq"),l=a.n(c),u=a("AA3o"),d=a.n(u),h=a("xSur"),p=a.n(h),f=a("UzKs"),g=a.n(f),v=a("Y7Ml"),_=a.n(v),y=a("VCXJ"),k=a("9ZwC"),E=a.n(k),b=a("6wm7"),m=a("jagD"),w=E()({watch:{page:function(){this.fetchFeErrors()},pageSize:function(){this.fetchFeErrors()}}})(r=function(e){function t(){var e,a,r,n;d()(this,t);for(var s=arguments.length,o=Array(s),i=0;i<s;i++)o[i]=arguments[i];return a=r=g()(this,(e=t.__proto__||l()(t)).call.apply(e,[this].concat(o))),r.errors=[],r.selectedError={},r.tableHead=["页面路由","信息","日期","操作"],r.tableKeys=["vm","errMsg","dateTime"],r.page=1,r.pageSize=20,r.projects=[{title:"Elapse-Admin",value:"Elapse-Admin"},{title:"Elapse-Front",value:"Elapse-Front"}],r.selectedProject="Elapse-Admin",r.keyword="",r.isFocus=!1,r.showDialog=!1,r.total=0,n=a,g()(r,n)}return _()(t,e),p()(t,[{key:"created",value:function(){this.fetchFeErrors()}},{key:"fetchFeErrors",value:function(){var e=i()(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.$loading.start(),e.prev=1,e.next=4,m.a.getFeErrors({appName:this.selectedProject,keyword:this.keyword,page:this.page,pageSize:this.pageSize});case 4:t=e.sent,this.errors=t.items.map(function(e){return delete e._id,delete e.__v,e.dateTime=Object(b.a)(e.dateTime),e}),this.total=t.total,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),this.$message.error(e.t0.message);case 12:return e.prev=12,this.$loading.close(),e.finish(12);case 15:case"end":return e.stop()}},e,this,[[1,9,12,15]])}));return function(){return e.apply(this,arguments)}}()},{key:"checkError",value:function(e){this.showDialog=!0,this.selectedError=e}},{key:"handlePageChange",value:function(e){this.page=e}},{key:"handlePageSizeChange",value:function(e){this.pageSize=e}}]),t}(y.default))||r,F={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ta-page"},[a("div",{staticClass:"ta-page__search",class:{"is-active":e.isFocus}},[a("ta-select",{attrs:{options:e.projects},on:{focus:function(t){e.isFocus=!0},blur:function(t){e.isFocus=!1}},model:{value:e.selectedProject,callback:function(t){e.selectedProject=t},expression:"selectedProject"}}),e._v(" "),a("ta-input",{attrs:{placeholder:"请输入页面路径后回车以搜索"},on:{focus:function(t){e.isFocus=!0},blur:function(t){e.isFocus=!1},enter:function(t){e.fetchFeErrors()}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})],1),e._v(" "),a("div",{staticClass:"ta-page__content"},[a("ta-table",{attrs:{tableHead:e.tableHead,tableBody:e.errors,needIndex:!0,index:e.pageSize*(e.page-1),keys:e.tableKeys}},e._l(e.errors,function(t,r){return a("div",{key:r,attrs:{slot:r},slot:r},[a("ta-button",{attrs:{size:"small"},on:{click:function(a){e.checkError(t)}}},[e._v("详情")])],1)}))],1),e._v(" "),a("ta-pagination",{attrs:{total:e.total,page:e.page},on:{pageChange:function(t){e.handlePageChange(t)},pageSizeChange:function(t){e.handlePageSizeChange(t)}}}),e._v(" "),e.showDialog?a("ta-dialog",{attrs:{title:"错误详情",showFooter:!1},on:{cancel:function(t){e.showDialog=!1}}},[a("table",[a("tbody",e._l(Object.keys(e.selectedError),function(t,r){return a("tr",{key:r},[a("td",{attrs:{width:"100"}},[e._v(e._s(t))]),e._v(" "),a("td",[e._v(e._s(e.selectedError[t]))])])}))])]):e._e()],1)},staticRenderFns:[]};var z=a("Z0/y")(w,F,!1,function(e){a("EQN6")},"data-v-3f09551d",null);t.default=z.exports}});
//# sourceMappingURL=fe-logger.56d75704055a5a68bcec.js.map
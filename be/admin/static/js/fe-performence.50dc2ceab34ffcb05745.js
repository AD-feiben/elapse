webpackJsonp([12],{"9ADo":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,s=a("lC5x"),i=a.n(s),n=a("J0Oq"),c=a.n(n),o=a("Yarq"),l=a.n(o),h=a("AA3o"),u=a.n(h),d=a("xSur"),f=a.n(d),p=a("UzKs"),m=a.n(p),v=a("Y7Ml"),y=a.n(v),g=a("VCXJ"),w=a("9ZwC"),_=a.n(w),k=a("6wm7"),x=a("jagD"),P=a("fkRY"),T=_()({watch:{selectedProject:function(){this.fetchPerformences()},chartOption:function(){this.renderChart()}}})(r=function(e){function t(){var e,a,r,s;u()(this,t);for(var i=arguments.length,n=Array(i),c=0;c<i;c++)n[c]=arguments[c];return a=r=m()(this,(e=t.__proto__||l()(t)).call.apply(e,[this].concat(n))),r.chart=null,r.firstScreenTimes=[],r.allLoadedTimes=[],r.recordDates=[],r.timer=null,r.chartOption={},r.projects=["Elapse-Admin","Elapse-Front"],r.selectedProject="Elapse-Admin",s=a,m()(r,s)}return y()(t,e),f()(t,[{key:"mounted",value:function(){var e=this.$refs.chart;this.chart=P.init(e),this.$loading.start(),this.fetchPerformences(),this.$loading.close()}},{key:"setProject",value:function(e){this.selectedProject=e}},{key:"fetchPerformences",value:function(){var e=c()(i.a.mark(function e(){var t,a=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.getFePerformences(this.selectedProject);case 3:t=e.sent,this.firstScreenTimes=[],this.allLoadedTimes=[],this.recordDates=[],t.items.length<=0&&this.$message.info("暂无数据"),t.items.map(function(e){a.firstScreenTimes.push(e.firstScreenTime),a.allLoadedTimes.push(e.allLoadedTime),a.recordDates.push(Object(k.a)(e.createdDateTime))}),this.getChartOption(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),this.$message.error(e.t0.message);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"getChartOption",value:function(){this.chartOption={color:["#006699","#4cabce"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["首屏耗时","加载耗时"]},toolbox:{show:!0,orient:"vertical",left:"right",top:"center",feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar","stack","tiled"]},restore:{show:!0},saveAsImage:{show:!0}}},calculable:!0,xAxis:[{type:"category",axisTick:{show:!1},data:this.recordDates}],yAxis:[{type:"value"}],series:[{name:"首屏耗时",type:"bar",barGap:0,data:this.firstScreenTimes},{name:"加载耗时",type:"bar",data:this.allLoadedTimes}]}}},{key:"renderChart",value:function(){this.chart.setOption(this.chartOption,!1,!1)}}]),t}(g.default))||r,b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ta-page"},[a("ta-alert",[e._v("前端页面性能记录取最接近当前时间的50条")]),e._v(" "),a("div",{staticClass:"row"},[a("div",e._l(e.projects,function(t,r){return a("ta-button",{key:r,class:{"is-active":e.selectedProject===t},attrs:{type:"small"},on:{click:function(a){e.setProject(t)}}},[e._v("\n        "+e._s(t)+"\n      ")])}))]),e._v(" "),a("div",{ref:"chart",staticClass:"ta-page__chart"})],1)},staticRenderFns:[]};var j=a("Z0/y")(T,b,!1,function(e){a("I/A3")},"data-v-2ff3ac4e",null);t.default=j.exports},"I/A3":function(e,t){}});
//# sourceMappingURL=fe-performence.50dc2ceab34ffcb05745.js.map
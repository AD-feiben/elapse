webpackJsonp([10],{dikf:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,r=a("lC5x"),s=a.n(r),c=a("J0Oq"),i=a.n(c),u=a("Yarq"),o=a.n(u),l=a("AA3o"),f=a.n(l),d=a("xSur"),p=a.n(d),h=a("UzKs"),v=a.n(h),g=a("Y7Ml"),y=a.n(g),k=a("VCXJ"),b=a("9ZwC"),m=a.n(b),_=a("6wm7"),x=a("Gf93"),w=m()({})(n=function(t){function e(){var t,a,n,r;f()(this,e);for(var s=arguments.length,c=Array(s),i=0;i<s;i++)c[i]=arguments[i];return a=n=v()(this,(t=e.__proto__||o()(e)).call.apply(t,[this].concat(c))),n.tableHead=["标签名","标签值","创建日期","更新日期","操作"],n.keys=["title","value","createdDate","updatedDate"],n.tags=[],r=a,v()(n,r)}return y()(e,t),p()(e,[{key:"created",value:function(){this.fetchTags()}},{key:"fetchTags",value:function(){var t=i()(s.a.mark(function t(){var e;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$loading.start(),t.prev=1,t.next=4,x.a.getTags();case 4:e=t.sent,this.tags=e.map(function(t){return t.createdDate=Object(_.a)(t.createdDate),t.updatedDate=Object(_.a)(t.updatedDate),t}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),this.$message.error(t.t0.message);case 11:return t.prev=11,this.$loading.close(),t.finish(11);case 14:case"end":return t.stop()}},t,this,[[1,8,11,14]])}));return function(){return t.apply(this,arguments)}}()},{key:"editTag",value:function(t){this.$router.push("/tag/"+t)}},{key:"deleteTag",value:function(){var t=i()(s.a.mark(function t(e){var a=this;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.$confirm("此操作将删除标签，是否继续？","删除标签",{}).then(i()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.deleteTag(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,a)}))).then(function(t){a.$message.success(t),a.fetchTags()}).catch(function(t){return a.$message.error(t.message||"取消删除")});case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}]),e}(k.default))||n,T={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ta-page"},[a("ta-table",{attrs:{tableHead:t.tableHead,tableBody:t.tags,keys:t.keys,needIndex:!0}},t._l(t.tags,function(e,n){return a("div",{key:n,attrs:{slot:n},slot:n},[a("ta-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){t.editTag(e._id)}}},[t._v("\n        编辑\n      ")]),t._v(" "),a("ta-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){t.deleteTag(e._id)}}},[t._v("\n        删除\n      ")])],1)}))],1)},staticRenderFns:[]};var $=a("Z0/y")(w,T,!1,function(t){a("iqbf")},"data-v-36d29438",null);e.default=$.exports},iqbf:function(t,e){}});
//# sourceMappingURL=tag-list.38fe00667ae50b26c83c.js.map
webpackJsonp([13],{rdzS:function(e,a){},t1XX:function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var r,n=t("lC5x"),s=t.n(n),i=t("J0Oq"),u=t.n(i),c=t("Yarq"),o=t.n(c),l=t("AA3o"),g=t.n(l),h=t("xSur"),d=t.n(h),p=t("UzKs"),v=t.n(p),f=t("Y7Ml"),m=t.n(f),w=t("VCXJ"),T=t("9ZwC"),k=t.n(T),y=t("Gf93"),x=k()({watch:{$route:function(){this.$route.params.tagId||null||this.reset()}}})(r=function(e){function a(){var e,t,r,n;g()(this,a);for(var s=arguments.length,i=Array(s),u=0;u<s;u++)i[u]=arguments[u];return t=r=v()(this,(e=a.__proto__||o()(a)).call.apply(e,[this].concat(i))),r.tagId="",r.newTagName="",r.newTagValue="",r.loading=!1,r.rules={name:[{required:!0,message:"标签名不得为空",trigger:"blur"}],value:[{required:!0,message:"标签值不得为空",trigger:"blur"}]},n=t,v()(r,n)}return m()(a,e),d()(a,[{key:"created",value:function(){var e=this.$route.params.tagId;e&&(this.tagId=e,this.fetchTag())}},{key:"isLetter",value:function(){return this.newTagValue&&/^[a-zA-Z]*$/g.test(this.newTagValue)?"":new Error("标签值仅接受英文")}},{key:"fetchTag",value:function(){var e=u()(s.a.mark(function e(){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,e.prev=1,e.next=4,y.a.getTag(this.tagId);case 4:a=e.sent,this.newTagName=a.title,this.newTagValue=a.value,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),this.$message.error(e.t0.message);case 12:return e.prev=12,this.loading=!1,e.finish(12);case 15:case"end":return e.stop()}},e,this,[[1,9,12,15]])}));return function(){return e.apply(this,arguments)}}()},{key:"ok",value:function(){this.tagId?this.updateTag():this.addTag()}},{key:"reset",value:function(){this.newTagName="",this.newTagValue=""}},{key:"updateTag",value:function(){var e=u()(s.a.mark(function e(){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,e.prev=1,e.next=4,y.a.updateTag(this.tagId,{title:this.newTagName,value:this.newTagValue});case 4:a=e.sent,this.$message.success(a),this.$router.go(-1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),this.$message.error(e.t0.message);case 12:return e.prev=12,this.loading=!1,e.finish(12);case 15:case"end":return e.stop()}},e,this,[[1,9,12,15]])}));return function(){return e.apply(this,arguments)}}()},{key:"addTag",value:function(){var e=u()(s.a.mark(function e(){var a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,e.prev=1,e.next=4,y.a.addTag(this.newTagName,this.newTagValue);case 4:a=e.sent,this.$message.success(a),this.reset(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),this.$message.error(e.t0.message);case 12:return e.prev=12,this.loading=!1,e.finish(12);case 15:case"end":return e.stop()}},e,this,[[1,9,12,15]])}));return function(){return e.apply(this,arguments)}}()}]),a}(w.default))||r,_={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("ta-form",{staticClass:"ta-form",attrs:{rules:e.rules},on:{submit:function(a){e.ok()}}},[t("ta-form-item",{attrs:{prop:"name",placeholder:"请输入标签名",rules:e.rules.name},model:{value:e.newTagName,callback:function(a){e.newTagName=a},expression:"newTagName"}}),e._v(" "),t("ta-form-item",{attrs:{prop:"value",placeholder:"请输入标签值，仅接受英文",rules:e.rules.value,validator:e.isLetter},model:{value:e.newTagValue,callback:function(a){e.newTagValue=a},expression:"newTagValue"}}),e._v(" "),t("ta-button",{attrs:{type:"primary",loading:e.loading}},[e._v("\n    "+e._s(e.tagId?"更新":"提交")+"\n    ")])],1)],1)},staticRenderFns:[]};var b=t("Z0/y")(x,_,!1,function(e){t("rdzS")},"data-v-2dda026a",null);a.default=b.exports}});
//# sourceMappingURL=tag.eaa2b6ce602d59815dca.js.map